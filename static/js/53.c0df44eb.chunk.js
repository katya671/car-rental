"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[53],{894:(e,a,s)=>{s.d(a,{Z:()=>n});s(791);const i="Button_button__qPlzq";var t=s(184);const n=e=>{let{onClick:a,padding:s,children:n}=e;return(0,t.jsx)("button",{onClick:a,className:i,style:{padding:s},children:n})}},583:(e,a,s)=>{s.d(a,{Z:()=>A});var i=s(791);const t="CarItem_item__hkgqJ",n="CarItem_imageWrap__xqRhi",r="CarItem_image__JC6uY",l="CarItem_heartBtn__N+v9c",c="CarItem_checked__6MX8q",o="CarItem_icon__OfVnz",d="CarItem_titleWrap__v2Hcm",h="CarItem_title__+zhke",m="CarItem_info__tIE8K",p="CarItem_break__fsMdL";var x=s(894);const u="Modal_backdrop__fjqVR",_="Modal_modal__uAcAq",g="Modal_content__DsB17",j="Modal_closeBtn__Z5ETI",v="Modal_closeIcon__sNNd3",f="Modal_image__UIg+V",C="Modal_btnContainer__-CGMl",b="Modal_title__8gpS6",N="Modal_list__vLQHd",y="Modal_break__MxCV9",k="Modal_info__Dsdue",S="Modal_details__14G5b",M="Modal_descr__cfcp-",w="Modal_subtitle__yWObO",I="Modal_conditions__kbxtz",P="Modal_condition__SRgXd";const B=s.p+"static/media/sprite.26074b8ff1f988733db7f50328c9c07d.svg";var F=s(184);const L=e=>{let{car:a,onClose:s}=e;return(0,i.useEffect)((()=>{const e=e=>{"Escape"===e.code&&s()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[s]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:u,onClick:s}),(0,F.jsx)("div",{className:_,children:(0,F.jsxs)("div",{className:g,children:[(0,F.jsx)("button",{type:"button",className:j,onClick:s,children:(0,F.jsx)("svg",{width:"24",height:"24",className:v,children:(0,F.jsx)("use",{href:B+"#icon-x"})})}),(0,F.jsx)("img",{loading:"lazy",src:a.img,alt:a.make,width:461,height:248,className:f}),(0,F.jsxs)("h2",{className:b,children:[a.make," ",(0,F.jsx)("span",{children:a.model}),", ",a.year]}),(0,F.jsxs)("ul",{className:"".concat(N," ").concat(k),children:[(0,F.jsx)("li",{children:a.address.split(",")[1]}),(0,F.jsx)("li",{children:a.address.split(",")[2]}),(0,F.jsxs)("li",{children:["Id: ",a.id]}),(0,F.jsxs)("li",{children:["Year: ",a.year]}),(0,F.jsxs)("li",{children:["Type: ",a.type]}),(0,F.jsx)("li",{className:y}),(0,F.jsxs)("li",{children:["Fuel Consumption: ",a.fuelConsumption]}),(0,F.jsxs)("li",{children:["Engine Size: ",a.engineSize]})]}),(0,F.jsx)("p",{className:M,children:a.description}),(0,F.jsx)("h3",{className:w,children:"Accessories and functionalities:"}),(0,F.jsxs)("ul",{className:"".concat(N," ").concat(S),children:[a.accessories.map(((e,a)=>(0,F.jsx)("li",{children:e},a))),(0,F.jsx)("li",{className:y}),a.functionalities.map(((e,a)=>(0,F.jsx)("li",{children:e},a)))]}),(0,F.jsx)("h3",{className:w,children:"Rental Conditions:"}),(0,F.jsxs)("ul",{className:I,children:[(0,F.jsxs)("li",{className:P,children:["Minimum age:"," ",(0,F.jsx)("span",{children:a.rentalConditions.split("\n")[0].split(": ")[1]})]}),(0,F.jsx)("li",{className:P,children:a.rentalConditions.split("\n")[1]}),(0,F.jsx)("li",{className:P,children:a.rentalConditions.split("\n")[2]}),(0,F.jsxs)("li",{className:P,children:["Mileage:"," ",(0,F.jsx)("span",{children:Number(a.mileage).toLocaleString("en-US")})]}),(0,F.jsxs)("li",{className:P,children:["Price: ",(0,F.jsx)("span",{children:a.rentalPrice})]})]}),(0,F.jsx)("a",{href:"tel:+380730000000",className:C,children:(0,F.jsx)(x.Z,{children:"Rental car"})})]})})]})};var T=s(434),Z=s(838),z=s(351);const W=e=>{let{car:a}=e;const[s,u]=(0,i.useState)(!1),_=(0,T.I0)(),g=(0,T.v9)(z.T).favorites.some((e=>{let{id:s}=e;return s===a.id}));return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("li",{className:t,children:[(0,F.jsxs)("div",{className:n,children:[(0,F.jsx)("img",{loading:"lazy",src:a.img,alt:a.make,width:274,height:268,className:r}),(0,F.jsx)("button",{className:"".concat(l," ").concat(g?c:""),onClick:()=>{_(g?(0,Z.Ni)(a):(0,Z.a3)(a))},children:(0,F.jsx)("svg",{width:"18",height:"18",className:o,children:(0,F.jsx)("use",{href:B+"#icon-heart-white"})})})]}),(0,F.jsxs)("div",{className:d,children:[(0,F.jsxs)("h2",{className:h,children:[a.make," ",(0,F.jsx)("span",{children:a.model}),", ",a.year]}),(0,F.jsx)("p",{children:a.rentalPrice})]}),(0,F.jsxs)("ul",{className:m,children:[(0,F.jsx)("li",{children:a.address.split(", ")[1]}),(0,F.jsx)("li",{children:a.address.split(", ")[2]}),(0,F.jsx)("li",{children:a.rentalCompany}),(0,F.jsx)("li",{className:p}),(0,F.jsx)("li",{children:a.type}),(0,F.jsx)("li",{children:a.model}),(0,F.jsx)("li",{children:a.mileage}),(0,F.jsx)("li",{children:a.accessories[0]})]}),(0,F.jsx)(x.Z,{onClick:()=>{u(!0)},children:"Learn more"})]}),s&&(0,F.jsx)(L,{car:a,onClose:()=>{u(!1)}})]})},E="CarList_list__FdZ8P",A=e=>{let{data:a}=e;return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("ul",{className:E,children:a.map((e=>(0,F.jsx)(W,{car:e},e.id)))})})}},53:(e,a,s)=>{s.r(a),s.d(a,{default:()=>C});var i=s(791),t=s(68);const n={form:"Filter_form__qg6Nx",btnContainer:"Filter_btnContainer__9Jgrr",inputContainer:"Filter_inputContainer__SvgNv",input:"Filter_input__1aF+e",inputWrap:"Filter_inputWrap__z8Zcf"};var r=s(894);const l=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]');var c=s(184);const o=[{value:"",label:"Any"},...l.map((e=>({value:e.toLowerCase(),label:e})))],d=[];for(let b=30;b<=500;b+=10)d.push({value:b.toString(),label:b.toString()});const h={control:(e,a)=>({...e,display:"flex",flexWrap:"nowrap",minWidth:"brand"===a.selectProps.id?"224px":"125px",height:"48px",padding:"brand"===a.selectProps.id?"14px 18px":"14px 18px 14px 52px",border:"none",borderRadius:"14px",backgroundColor:"var(--light)","&::before":{content:"price"===a.selectProps.id?"'To $'":"''",position:"absolute",left:"18px",fontSize:"18px",fontWeight:"500",lineHeight:"1.11"}}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:(e,a)=>({...e,padding:"0",color:"var(--dark)",transition:"transform var(--tra)",transform:a.isFocused?"rotate(180deg)":"rotate(0)"}),valueContainer:e=>({...e,color:"var(--dark)",fontSize:"18px",fontWeight:"500",lineHeight:"1.11",padding:"0"}),placeholder:e=>({...e,color:"var(--dark)"}),menu:e=>({...e,marginTop:"4px",padding:"14px 8px 14px 18px",borderRadius:"14px",border:"1px solid rgba(18, 20, 23, 0.05)",background:"var(--white)",boxShadow:"0px 4px 36px 0px rgba(0, 0, 0, 0.02)"}),menuList:(e,a)=>({maxHeight:"carBrand"===a.selectProps.id?"272px":"188px",overflowY:"auto"}),option:()=>({color:"rgba(18, 20, 23, 0.20)",fontWeight:"500",fontSize:"16px",lineHeight:"1.25",cursor:"pointer",marginBottom:"8px",transition:"color var(--tra)","&:hover":{color:"var(--dark)"}})},m=e=>{let{onSearch:a}=e;const[s,l]=(0,i.useState)(""),[m,p]=(0,i.useState)(""),[x,u]=(0,i.useState)(""),[_,g]=(0,i.useState)("");return(0,c.jsxs)("form",{className:n.form,children:[(0,c.jsxs)("div",{className:n.filterItem,children:[(0,c.jsx)("label",{children:"Car brand"}),(0,c.jsx)(t.ZP,{id:"brand",placeholder:"Enter the text",isSearchable:!0,name:"brand",options:o,styles:h,onChange:e=>l(e.value)})]}),(0,c.jsxs)("div",{className:n.filterItem,children:[(0,c.jsx)("label",{children:"Price/1 hour"}),(0,c.jsx)(t.ZP,{id:"price",placeholder:"",isSearchable:!0,name:"price",options:d,styles:h,onChange:e=>p(e.value)})]}),(0,c.jsxs)("div",{className:n.filterItem,children:[(0,c.jsx)("label",{children:"Car mileage/km"}),(0,c.jsxs)("div",{className:n.inputContainer,children:[(0,c.jsx)("div",{className:n.inputWrap,children:(0,c.jsx)("input",{type:"number",className:n.input,value:x,onChange:e=>u(e.target.value)})}),(0,c.jsx)("div",{className:n.inputWrap,children:(0,c.jsx)("input",{type:"number",className:n.input,value:_,onChange:e=>g(e.target.value)})})]})]}),(0,c.jsx)("div",{className:n.btnContainer,children:(0,c.jsx)(r.Z,{type:"submit",padding:"14px",onClick:e=>{e.preventDefault();a({carBrand:s,priceTo:m,mileageFrom:x,mileageTo:_})},children:"Search"})})]})};var p=s(583);const x="CatalogPage_container__GeSuX",u="CatalogPage_loadMoreBtn__d5n5T";var _=s(294);_.Z.defaults.baseURL="https://654f52d5358230d8f0cd3548.mockapi.io";var g=s(968),j=s.n(g);const v=()=>(0,c.jsx)("div",{style:{textAlign:"center"},children:(0,c.jsx)(j(),{type:"cylon",color:"var(--blue)",height:50,width:50})});var f=s(218);const C=()=>{const[e,a]=(0,i.useState)(1),[s,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[l,o]=(0,i.useState)(null),[d,h]=(0,i.useState)({carBrand:"",priceTo:"",mileageFrom:"",mileageTo:""}),[g,j]=(0,i.useState)(!1),[C,b]=(0,i.useState)(!0),N=async()=>{try{b(!0);const e=await(async()=>{try{return(await _.Z.get("/advert")).data}catch(e){throw e}})();r(e)}catch(e){}finally{b(!1)}},y=async()=>{try{b(!0);const a=await(async e=>{try{return(await _.Z.get("/advert",{params:{page:e,limit:12}})).data}catch(a){throw a}})(e);t((e=>[...e,...a]))}catch(a){f.Am.error("Oops! Something went wrong while loading adverts.")}finally{b(!1)}};(0,i.useEffect)((()=>{N()}),[]),(0,i.useEffect)((()=>{y()}),[e]),(0,i.useEffect)((()=>{if(g){const e=n.filter((e=>{var a;const s=!d.carBrand||(null===(a=e.make)||void 0===a?void 0:a.toLowerCase())===d.carBrand.toLowerCase(),i=!d.priceTo||e.rentalPrice&&parseInt(e.rentalPrice.replace("$",""))<=d.priceTo,t=!d.mileageFrom||e.mileage&&e.mileage>=d.mileageFrom,n=!d.mileageTo||e.mileage&&e.mileage<=d.mileageTo;return s&&i&&t&&n}));o(e);const a=e.length?"".concat(e.length," adverts found."):"No adverts found.";f.Am.success(a)}else o([])}),[d,g]);return(0,c.jsxs)("div",{className:x,children:[(0,c.jsx)(m,{onSearch:e=>{j(!0),h(e)}}),g?(0,c.jsx)(p.Z,{data:l}):(0,c.jsx)(p.Z,{data:s}),C&&(0,c.jsx)(v,{}),!g&&s.length<n.length&&(0,c.jsx)("button",{onClick:()=>{a(e+1)},className:u,children:"Load more"})]})}},351:(e,a,s)=>{s.d(a,{T:()=>i});const i=e=>e.favorites}}]);
//# sourceMappingURL=53.c0df44eb.chunk.js.map