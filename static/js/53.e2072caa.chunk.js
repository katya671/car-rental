"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[53],{894:(e,a,s)=>{s.d(a,{Z:()=>n});s(791);const t="Button_button__qPlzq";var r=s(184);const n=e=>{let{onClick:a,padding:s,children:n}=e;return(0,r.jsx)("button",{onClick:a,className:t,style:{padding:s},children:n})}},583:(e,a,s)=>{s.d(a,{Z:()=>A});var t=s(791);const r="CarItem_item__hkgqJ",n="CarItem_imageWrap__xqRhi",i="CarItem_image__JC6uY",l="CarItem_heartBtn__N+v9c",c="CarItem_checked__6MX8q",o="CarItem_icon__OfVnz",d="CarItem_titleWrap__v2Hcm",h="CarItem_title__+zhke",m="CarItem_info__tIE8K",p="CarItem_break__fsMdL";var x=s(894);const u="Modal_backdrop__fjqVR",_="Modal_modal__uAcAq",g="Modal_content__DsB17",j="Modal_closeBtn__Z5ETI",v="Modal_closeIcon__sNNd3",f="Modal_image__UIg+V",b="Modal_btnContainer__-CGMl",C="Modal_title__8gpS6",N="Modal_list__vLQHd",y="Modal_break__MxCV9",M="Modal_info__Dsdue",k="Modal_details__14G5b",S="Modal_descr__cfcp-",w="Modal_subtitle__yWObO",I="Modal_conditions__kbxtz",T="Modal_condition__SRgXd";const P=s.p+"static/media/sprite.26074b8ff1f988733db7f50328c9c07d.svg";var B=s(184);const F=e=>{let{car:a,onClose:s}=e;return(0,t.useEffect)((()=>{const e=e=>{"Escape"===e.code&&s()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[s]),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{className:u,onClick:s}),(0,B.jsx)("div",{className:_,children:(0,B.jsxs)("div",{className:g,children:[(0,B.jsx)("button",{type:"button",className:j,onClick:s,children:(0,B.jsx)("svg",{width:"24",height:"24",className:v,children:(0,B.jsx)("use",{href:P+"#icon-x"})})}),(0,B.jsx)("img",{loading:"lazy",src:a.img||"https://source.unsplash.com/s3mTM-faobU/800x600",alt:a.make,width:461,height:248,className:f,onError:e=>{e.target.src="https://source.unsplash.com/s3mTM-faobU/800x600"}}),(0,B.jsxs)("h2",{className:C,children:[a.make," ",(0,B.jsx)("span",{children:a.model}),", ",a.year]}),(0,B.jsxs)("ul",{className:"".concat(N," ").concat(M),children:[(0,B.jsx)("li",{children:a.address.split(",")[1]}),(0,B.jsx)("li",{children:a.address.split(",")[2]}),(0,B.jsxs)("li",{children:["Id: ",a.id]}),(0,B.jsxs)("li",{children:["Year: ",a.year]}),(0,B.jsxs)("li",{children:["Type: ",a.type]}),(0,B.jsx)("li",{className:y}),(0,B.jsxs)("li",{children:["Fuel Consumption: ",a.fuelConsumption]}),(0,B.jsxs)("li",{children:["Engine Size: ",a.engineSize]})]}),(0,B.jsx)("p",{className:S,children:a.description}),(0,B.jsx)("h3",{className:w,children:"Accessories and functionalities:"}),(0,B.jsxs)("ul",{className:"".concat(N," ").concat(k),children:[a.accessories.map(((e,a)=>(0,B.jsx)("li",{children:e},a))),(0,B.jsx)("li",{className:y}),a.functionalities.map(((e,a)=>(0,B.jsx)("li",{children:e},a)))]}),(0,B.jsx)("h3",{className:w,children:"Rental Conditions:"}),(0,B.jsxs)("ul",{className:I,children:[(0,B.jsxs)("li",{className:T,children:["Minimum age:"," ",(0,B.jsx)("span",{children:a.rentalConditions.split("\n")[0].split(": ")[1]})]}),(0,B.jsx)("li",{className:T,children:a.rentalConditions.split("\n")[1]}),(0,B.jsx)("li",{className:T,children:a.rentalConditions.split("\n")[2]}),(0,B.jsxs)("li",{className:T,children:["Mileage:"," ",(0,B.jsx)("span",{children:Number(a.mileage).toLocaleString("en-US")})]}),(0,B.jsxs)("li",{className:T,children:["Price: ",(0,B.jsx)("span",{children:a.rentalPrice})]})]}),(0,B.jsx)("a",{href:"tel:+380730000000",className:b,children:(0,B.jsx)(x.Z,{children:"Rental car"})})]})})]})};var L=s(434),Z=s(838),z=s(351);const E=e=>{let{car:a}=e;const[s,u]=(0,t.useState)(!1),_=(0,L.I0)(),g=(0,L.v9)(z.T).favorites.some((e=>{let{id:s}=e;return s===a.id}));return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("li",{className:r,children:[(0,B.jsxs)("div",{className:n,children:[(0,B.jsx)("img",{loading:"lazy",src:a.img||"https://source.unsplash.com/s3mTM-faobU/800x600",alt:a.make,width:274,height:268,className:i,onError:e=>{e.target.src="https://source.unsplash.com/s3mTM-faobU/800x600"}}),(0,B.jsx)("button",{className:"".concat(l," ").concat(g?c:""),onClick:()=>{_(g?(0,Z.Ni)(a):(0,Z.a3)(a))},children:(0,B.jsx)("svg",{width:"18",height:"18",className:o,children:(0,B.jsx)("use",{href:P+"#icon-heart-white"})})})]}),(0,B.jsxs)("div",{className:d,children:[(0,B.jsxs)("h2",{className:h,children:[a.make," ",(0,B.jsx)("span",{children:a.model}),", ",a.year]}),(0,B.jsx)("p",{children:a.rentalPrice})]}),(0,B.jsxs)("ul",{className:m,children:[(0,B.jsx)("li",{children:a.address.split(", ")[1]}),(0,B.jsx)("li",{children:a.address.split(", ")[2]}),(0,B.jsx)("li",{children:a.rentalCompany}),(0,B.jsx)("li",{className:p}),(0,B.jsx)("li",{children:a.type}),(0,B.jsx)("li",{children:a.model}),(0,B.jsx)("li",{children:a.mileage}),(0,B.jsx)("li",{children:a.accessories[0]})]}),(0,B.jsx)(x.Z,{onClick:()=>{u(!0)},children:"Learn more"})]}),s&&(0,B.jsx)(F,{car:a,onClose:()=>{u(!1)}})]})},W="CarList_list__FdZ8P",A=e=>{let{data:a}=e;return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)("ul",{className:W,children:a.map((e=>(0,B.jsx)(E,{car:e},e.id)))})})}},53:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var t=s(791),r=s(68);const n={form:"Filter_form__qg6Nx",btnContainer:"Filter_btnContainer__9Jgrr",inputContainer:"Filter_inputContainer__SvgNv",input:"Filter_input__1aF+e",inputWrap:"Filter_inputWrap__z8Zcf"};var i=s(894);const l=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]');var c=s(184);const o=[{value:"",label:"Any"},...l.map((e=>({value:e.toLowerCase(),label:e})))],d=[];for(let C=30;C<=500;C+=10)d.push({value:C.toString(),label:C.toString()});const h={control:(e,a)=>({...e,display:"flex",flexWrap:"nowrap",minWidth:"brand"===a.selectProps.id?"224px":"125px",height:"48px",padding:"brand"===a.selectProps.id?"14px 18px":"14px 18px 14px 52px",border:"none",borderRadius:"14px",backgroundColor:"var(--light)","&::before":{content:"price"===a.selectProps.id?"'To $'":"''",position:"absolute",left:"18px",fontSize:"18px",fontWeight:"500",lineHeight:"1.11"}}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:(e,a)=>({...e,padding:"0",color:"var(--dark)",transition:"transform var(--tra)",transform:a.isFocused?"rotate(180deg)":"rotate(0)"}),valueContainer:e=>({...e,color:"var(--dark)",fontSize:"18px",fontWeight:"500",lineHeight:"1.11",padding:"0"}),placeholder:e=>({...e,color:"var(--dark)"}),menu:e=>({...e,marginTop:"4px",padding:"14px 8px 14px 18px",borderRadius:"14px",border:"1px solid rgba(18, 20, 23, 0.05)",background:"var(--white)",boxShadow:"0px 4px 36px 0px rgba(0, 0, 0, 0.02)"}),menuList:(e,a)=>({maxHeight:"carBrand"===a.selectProps.id?"272px":"188px",overflowY:"auto"}),option:()=>({color:"rgba(18, 20, 23, 0.20)",fontWeight:"500",fontSize:"16px",lineHeight:"1.25",cursor:"pointer",marginBottom:"8px",transition:"color var(--tra)","&:hover":{color:"var(--dark)"}})},m=e=>{let{onSearch:a}=e;const[s,l]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[x,u]=(0,t.useState)(""),[_,g]=(0,t.useState)("");return(0,c.jsxs)("form",{className:n.form,children:[(0,c.jsxs)("div",{className:n.filterItem,children:[(0,c.jsx)("label",{children:"Car brand"}),(0,c.jsx)(r.ZP,{id:"brand",placeholder:"Enter the text",isSearchable:!0,name:"brand",options:o,styles:h,onChange:e=>l(e.value)})]}),(0,c.jsxs)("div",{className:n.filterItem,children:[(0,c.jsx)("label",{children:"Price/1 hour"}),(0,c.jsx)(r.ZP,{id:"price",placeholder:"",isSearchable:!0,name:"price",options:d,styles:h,onChange:e=>p(e.value)})]}),(0,c.jsxs)("div",{className:n.filterItem,children:[(0,c.jsx)("label",{children:"Car mileage/km"}),(0,c.jsxs)("div",{className:n.inputContainer,children:[(0,c.jsx)("div",{className:n.inputWrap,children:(0,c.jsx)("input",{type:"number",className:n.input,value:x,onChange:e=>u(e.target.value)})}),(0,c.jsx)("div",{className:n.inputWrap,children:(0,c.jsx)("input",{type:"number",className:n.input,value:_,onChange:e=>g(e.target.value)})})]})]}),(0,c.jsx)("div",{className:n.btnContainer,children:(0,c.jsx)(i.Z,{type:"submit",padding:"14px",onClick:e=>{e.preventDefault();a({carBrand:s,priceTo:m,mileageFrom:x,mileageTo:_})},children:"Search"})})]})};var p=s(583);const x="CatalogPage_container__GeSuX",u="CatalogPage_loadMoreBtn__d5n5T";var _=s(294);_.Z.defaults.baseURL="https://654f52d5358230d8f0cd3548.mockapi.io";var g=s(968),j=s.n(g);const v=()=>(0,c.jsx)("div",{style:{textAlign:"center"},children:(0,c.jsx)(j(),{type:"bubbles",color:"var(--blue)",height:50,width:50})});var f=s(218);const b=()=>{const[e,a]=(0,t.useState)(1),[s,r]=(0,t.useState)([]),[n,i]=(0,t.useState)([]),[l,o]=(0,t.useState)(null),[d,h]=(0,t.useState)({carBrand:"",priceTo:"",mileageFrom:"",mileageTo:""}),[g,j]=(0,t.useState)(!1),[b,C]=(0,t.useState)(!0),N=async()=>{try{C(!0);const e=await(async()=>{try{return(await _.Z.get("/advert")).data}catch(e){throw e}})();i(e)}catch(e){}finally{C(!1)}},y=async()=>{try{C(!0);const a=await(async e=>{try{return(await _.Z.get("/advert",{params:{page:e,limit:12}})).data}catch(a){throw a}})(e);r((e=>[...e,...a]))}catch(a){f.Am.error("Oops! Something went wrong while loading adverts.")}finally{C(!1)}};(0,t.useEffect)((()=>{N()}),[]),(0,t.useEffect)((()=>{y()}),[e]),(0,t.useEffect)((()=>{if(g){const e=n.filter((e=>{var a;const s=!d.carBrand||(null===(a=e.make)||void 0===a?void 0:a.toLowerCase())===d.carBrand.toLowerCase(),t=!d.priceTo||e.rentalPrice&&parseInt(e.rentalPrice.replace("$",""))<=d.priceTo,r=!d.mileageFrom||e.mileage&&e.mileage>=d.mileageFrom,n=!d.mileageTo||e.mileage&&e.mileage<=d.mileageTo;return s&&t&&r&&n}));o(e);const a=e.length?"".concat(e.length," adverts found."):"No adverts found.";f.Am.success(a)}else o([])}),[d,g]);return(0,c.jsxs)("div",{className:x,children:[(0,c.jsx)(m,{onSearch:e=>{j(!0),h(e)}}),g?(0,c.jsx)(p.Z,{data:l}):(0,c.jsx)(p.Z,{data:s}),b&&(0,c.jsx)(v,{}),!g&&s.length<n.length&&(0,c.jsx)("button",{onClick:()=>{a(e+1)},className:u,children:"Load more"})]})}},351:(e,a,s)=>{s.d(a,{T:()=>t});const t=e=>e.favorites}}]);
//# sourceMappingURL=53.e2072caa.chunk.js.map